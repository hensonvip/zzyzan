!function(e){var t=function(){this.options={activeClass:"active",valueSource:"index",prePopulate:null,disabled:null,cssOptions:{vertical:!1,quadratic:!1,size:"medium",picker:null,element:null,hover:null,selected:null}},this.type="inline",this.input=null,this.selector=null,this.isPressed=!1,this.lastElem="",this.setEvendHandlers=function(){var e=this;this.items.click(function(){e.select.call(this,e,!1)}),this.items.mousemove(function(t){e.isPressed&&e.lastElem!==t.target&&(e.hover(t),e.lastElem=t.target)}),this.selector.mousedown(function(t){e.isPressed=!0}),this.selector.mouseleave(function(t){e.isPressed=!1}),this.items.mouseup(this.finishHover.bind(this))},this.hover=function(t){var s=e(t.target);this.select.call(s,this,!1)},this.finishHover=function(e){this.lastElem=null,this.isPressed=!1},this.select=function(s,i){var o;if(!e(this).attr("data-disabled"))return o="index"===s.options.valueSource?e(this).index():"data-"===s.options.valueSource.substring(0,5)?e(this).attr(s.options.valueSource):"text"===s.options.valueSource?e(this).text():e(this).val(),s.options.isSingle?(s.clear(),e(this).siblings("."+s.options.activeClass).removeClass(),e(this).addClass(s.options.activeClass),void s.addValue(this,o)):void(e(this).hasClass(s.options.activeClass)?(e(this).removeClass(),s.removeValue(this,o),t.updateClasses(e(this),s.options.activeClass),s.options.onUnselect&&"function"==typeof s.options.onUnselect&&!i&&s.options.onUnselect(this,o)):(e(this).addClass(s.options.activeClass),s.addValue(this,o),t.updateClasses(e(this),s.options.activeClass),s.options.onSelect&&"function"==typeof s.options.onSelect&&!i&&s.options.onSelect(this,o)))},this.addValue=function(t,s){if("inline"===this.type){var i=this.input.val();i&&(i+=","),i+=s,this.input.val(i)}else this.selector.find("input[value='"+e(t).attr("data-value")+"']").attr("checked",!0)},this.removeValue=function(t,s){if("inline"===this.type){var i=this.input.val();i=i.replace(","+s,"").replace(s+",","").replace(s,""),this.input.val(i)}else this.selector.find("input[value='"+e(t).attr("data-value")+"']").attr("checked",!1)},this.clear=function(){"inline"===this.type?this.input.val(""):this.selector.find("input").attr("checked",!1)},this.prePopulate=function(){if(t.isArray(this.options.prePopulate)&&this.options.prePopulate.length)for(var s in this.options.prePopulate){var i=this.options.prePopulate[s],o=this.getElementSelector(i);e(o).index()<0?console.warn("Multipicker: prepopulated element doesn`t found `%s`",i):this.select.call(o,this,!0)}else{var o=this.getElementSelector(this.options.prePopulate);e(o).index()<0?console.warn("Multipicker: prepopulated element doesn`t found`%s`",this.options.prePopulate):this.select.call(o,this,!0)}},this.disable=function(){if(t.isArray(this.options.disabled)&&this.options.disabled.length)for(var s in this.options.disabled){var i=this.options.disabled[s],o=this.getElementSelector(i);e(o).index()<0?console.warn("Multipicker: prepopulated element doesn`t found `%s`",i):e(o).attr("data-disabled",!0)}else{var o=this.getElementSelector(this.options.disabled);e(o).index()<0?console.warn("Multipicker: disabled element doesn`t found`%s`",this.options.disabled):e(o).attr("data-disabled",!0)}},this.getElementSelector=function(e){return"index"!==this.options.valueSource&&this.options.valueSource?"data-"===this.options.valueSource.substring(0,5)?this.selector.find(this.options.selector+"["+this.options.valueSource+"='"+e+"']"):"text"===this.options.valueSource?this.selector.find(this.options.selector+":contains('"+e+"')"):void 0:this.items.eq(e)}};t.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)?!0:void 0},t.updateClasses=function(t,s){e(t).hasClass(s)?e(t).next().hasClass(s)&&e(t).prev().hasClass(s)?(e(t).next().next().hasClass(s)?e(t).next().attr("class",s+" center-side"):e(t).next().attr("class",s+" right-side"),e(t).prev().prev().hasClass(s)?e(t).prev().attr("class",s+" center-side"):e(t).prev().attr("class",s+" left-side"),e(t).attr("class","active center-side")):e(t).next().hasClass(s)&&!e(t).prev().hasClass(s)?(e(t).next().next().hasClass(s)?e(t).next().attr("class",s+" center-side"):e(t).next().attr("class",s+" right-side"),e(t).attr("class","active left-side")):!e(t).next().hasClass(s)&&e(t).prev().hasClass(s)&&(e(t).prev().prev().hasClass(s)?e(t).prev().attr("class",s+" center-side"):e(t).prev().attr("class",s+" left-side"),e(t).attr("class",s+" right-side")):(e(t).next().hasClass("right-side")&&e(t).next().attr("class",s),e(t).prev().hasClass("left-side")&&e(t).prev().attr("class",s),e(t).prev().hasClass("center-side")&&e(t).prev().attr("class",s+" right-side"),e(t).next().hasClass("center-side")&&e(t).next().attr("class",s+" left-side"))},t.generateStyles=function(t,s){var i="";if(s.picker){i+="#"+t+".checklist {";for(var o in s.picker)i+=o+":"+s.picker[o]+";";i+="}"}if(s.element){i+="#"+t+" > * {";for(var o in s.element)i+=o+":"+s.element[o]+";";i+="}"}if(s.selected){i+="#"+t+" > *.active {";for(var o in s.selected)i+=o+":"+s.selected[o]+";";i+="}"}if(s.hover){i+="#"+t+" > *:hover {";for(var o in s.hover)i+=o+":"+s.hover[o]+";";i+="}"}e("head").append("<style type='text/css'>"+i+"</style>")},e.fn.extend({multiPicker:function(s){var i=new t;if(i.options=Object.assign(i.options,s),i.selector=e("#"+this.attr("id")),"checkbox"===i.options.selector||"radio"===i.options.selector?(i.type=i.options.selector,"radio"===i.type&&(i.options.isSingle=!0),i.selector.find("label").css("display","none"),i.options.disabled?t.isArray(i.options.disabled)||(i.options.disabled=[i.options.disabled]):i.options.disabled=[],e(i.selector).find("input").each(function(t,s){var o=e(s).val(),n=e("label[for='"+e(s).attr("id")+"']").text()||o;i.selector.append("<span data-value='"+o+"'>"+n+"</span>"),e(s).prop("disabled")&&i.options.disabled.push(o)}),i.items=i.selector.find("span"),i.options.valueSource="data-value",i.options.selector="span",i.options.cssOptions.vertical?i.selector.addClass("more-padded-t"):i.selector.addClass("more-padded-l")):(i.options.inputName=i.options.inputName||this.attr("id"),"inline"===i.type&&(e("[name="+i.options.inputName+"]").length?i.input=e("[name="+i.options.inputName+"]"):(i.selector.after("<input type='hidden' name='"+i.options.inputName+"'>"),i.input=e("[name="+i.options.inputName+"]"))),i.items=i.selector.find(i.options.selector)),i.selector.addClass("checklist"),i.options.cssOptions.vertical&&i.selector.addClass("vertical"),i.options.cssOptions.size&&i.selector.addClass(i.options.cssOptions.size),i.options.cssOptions.quadratic&&i.selector.addClass("quadratic"),(i.options.cssOptions.picker||i.options.cssOptions.element||i.options.cssOptions.hover||i.options.cssOptions.selected)&&t.generateStyles(this.attr("id"),i.options.cssOptions),i.options.prePopulate&&t.isArray(i.options.prePopulate)&&i.options.prePopulate.length>1&&i.options.isSingle)throw"Can not prePopulate more then 1 item, with `isSingle` true option";if(i.options.valueSource&&"index"===i.options.valueSource&&"text"===i.options.valueSource&&"data-"!==i.options.valueSource.substring(0,5))throw"Invalid value source";if("data-disabled"===i.options.valueSource)throw"`data-disabled` attribute is reserved, choose another name";(i.options.prePopulate||0===i.options.prePopulate)&&i.prePopulate(),(i.options.disabled||0===i.options.disabled)&&i.disable(),i.selector.attr("ondragstart","return false"),i.setEvendHandlers(),i.options.onInit&&"function"==typeof i.options.onInit&&i.options.onInit()}})}(jQuery);